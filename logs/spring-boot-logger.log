2020-09-15 00:28:01,091 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=31m2s648ms994µs300ns).
2020-09-15 00:41:54,492 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m53s269ms370µs300ns).
2020-09-15 00:43:35,821 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 11012 (started by yurat in D:\Projects\Java\demo)
2020-09-15 00:43:35,824 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 00:43:37,454 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 00:43:37,601 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 125ms. Found 3 JPA repository interfaces.
2020-09-15 00:43:39,485 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@52a33c3f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:43:39,508 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:43:39,858 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 00:43:39,917 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 00:43:40,064 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 00:43:40,210 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 00:43:40,260 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthRestController' defined in file [D:\Projects\Java\demo\target\classes\com\example\demo\controller\JwtAuthRestController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demo.details.UserDetailsServiceImpl' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2020-09-15 00:43:40,261 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:43:40,313 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 00:43:40,835 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 00:43:41,117 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 00:43:41,153 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 00:43:42,284 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 00:43:42,295 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:43:42,303 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Shutting down ExecutorService 'taskScheduler'
2020-09-15 00:43:42,304 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 00:43:42,305 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2020-09-15 00:43:42,312 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2020-09-15 00:43:42,326 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-09-15 00:43:42,605 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.example.demo.controller.JwtAuthRestController required a bean of type 'com.example.demo.details.UserDetailsServiceImpl' that could not be found.


Action:

Consider defining a bean of type 'com.example.demo.details.UserDetailsServiceImpl' in your configuration.

2020-09-15 00:43:42,609 ERROR org.springframework.test.context.TestContextManager [main] Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6236eb5f] to prepare test instance [com.example.demo.controller.JwtAuthRestControllerTest@766a52f5]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthRestController' defined in file [D:\Projects\Java\demo\target\classes\com\example\demo\controller\JwtAuthRestController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demo.details.UserDetailsServiceImpl' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:227)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:893)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 25 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demo.details.UserDetailsServiceImpl' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1714)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1270)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:884)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 44 common frames omitted
2020-09-15 00:44:42,109 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 11500 (started by yurat in D:\Projects\Java\demo)
2020-09-15 00:44:42,112 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 00:44:44,059 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 00:44:44,169 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 97ms. Found 3 JPA repository interfaces.
2020-09-15 00:44:45,989 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@52a33c3f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:44:46,016 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:44:46,355 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 00:44:46,407 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 00:44:46,542 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 00:44:46,677 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 00:44:46,700 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthRestController' defined in file [D:\Projects\Java\demo\target\classes\com\example\demo\controller\JwtAuthRestController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demo.details.UserDetailsServiceImpl' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2020-09-15 00:44:46,702 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:44:46,765 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 00:44:47,150 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 00:44:47,499 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 00:44:47,539 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 00:44:48,805 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 00:44:48,818 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:44:48,829 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Shutting down ExecutorService 'taskScheduler'
2020-09-15 00:44:48,830 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 00:44:48,831 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2020-09-15 00:44:48,840 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2020-09-15 00:44:48,858 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-09-15 00:44:49,021 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.example.demo.controller.JwtAuthRestController required a bean of type 'com.example.demo.details.UserDetailsServiceImpl' that could not be found.


Action:

Consider defining a bean of type 'com.example.demo.details.UserDetailsServiceImpl' in your configuration.

2020-09-15 00:44:49,027 ERROR org.springframework.test.context.TestContextManager [main] Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6236eb5f] to prepare test instance [com.example.demo.controller.JwtAuthRestControllerTest@2ba1209b]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthRestController' defined in file [D:\Projects\Java\demo\target\classes\com\example\demo\controller\JwtAuthRestController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demo.details.UserDetailsServiceImpl' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:227)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:893)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 25 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demo.details.UserDetailsServiceImpl' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1714)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1270)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:884)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 44 common frames omitted
2020-09-15 00:45:37,198 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 9876 (started by yurat in D:\Projects\Java\demo)
2020-09-15 00:45:37,202 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 00:45:39,514 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 00:45:39,639 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 107ms. Found 3 JPA repository interfaces.
2020-09-15 00:45:41,603 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@19a20bb2' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:45:41,641 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:45:42,038 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 00:45:42,089 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 00:45:42,236 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 00:45:42,388 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 00:45:42,578 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 00:45:43,338 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 00:45:44,645 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 00:45:44,647 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 00:45:44,647 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 00:45:44,649 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 00:45:44,650 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 00:45:45,121 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28ee0a3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@377949f1, org.springframework.security.web.header.HeaderWriterFilter@1961d75a, org.springframework.security.web.authentication.logout.LogoutFilter@3375ebd3, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@9dada78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a21f43f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a70d302, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2dd1086, org.springframework.security.web.session.SessionManagementFilter@a1691c0, org.springframework.security.web.access.ExceptionTranslationFilter@4f363abd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f9a10df]
2020-09-15 00:45:45,192 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 00:45:45,918 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 00:45:45,997 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 00:45:48,003 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 00:45:49,013 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 00:45:49,014 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 00:45:49,053 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 37 ms
2020-09-15 00:45:49,315 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 00:45:49,334 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:45:49,608 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 00:45:49,644 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 00:45:49,822 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49416-1600119949646-0:1) is starting
2020-09-15 00:45:49,840 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49416-1600119949646-0:1) started
2020-09-15 00:45:49,841 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 00:45:49,923 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 00:45:50,024 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 00:45:50,834 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 00:45:50,853 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 14.794 seconds (JVM running for 17.051)
2020-09-15 00:45:50,953 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49416-1600119949646-0:1) is shutting down
2020-09-15 00:45:50,969 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:45:50,977 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 00:45:50,981 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:45:50,984 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 00:45:50,993 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49416-1600119949646-0:1) uptime 1.604 seconds
2020-09-15 00:45:50,994 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49416-1600119949646-0:1) is shutdown
2020-09-15 00:45:55,991 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 00:45:55,997 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:45:56,000 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 00:45:56,000 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 00:45:56,001 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 00:45:56,006 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 00:47:07,890 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 11720 (started by yurat in D:\Projects\Java\demo)
2020-09-15 00:47:07,894 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 00:47:10,849 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 00:47:11,046 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 173ms. Found 3 JPA repository interfaces.
2020-09-15 00:47:14,263 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5b9499fe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:47:14,339 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:47:15,311 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 00:47:15,399 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 00:47:15,571 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 00:47:15,713 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 00:47:15,853 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 00:47:16,376 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 00:47:16,728 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 00:47:17,349 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 00:47:17,396 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 00:47:17,709 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 00:47:17,709 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 00:47:17,710 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 00:47:17,711 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 00:47:17,711 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 00:47:17,982 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d3a1903, org.springframework.security.web.context.SecurityContextPersistenceFilter@49fdbe2b, org.springframework.security.web.header.HeaderWriterFilter@4dad8ec0, org.springframework.security.web.authentication.logout.LogoutFilter@677ce519, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@27e2287c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@437bd805, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a65a360, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26582ca, org.springframework.security.web.session.SessionManagementFilter@36359723, org.springframework.security.web.access.ExceptionTranslationFilter@324b6a56, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@565aa4ac]
2020-09-15 00:47:19,528 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 00:47:19,559 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:47:19,976 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 00:47:20,372 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 00:47:20,372 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 00:47:20,402 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 29 ms
2020-09-15 00:47:20,680 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 00:47:20,695 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 00:47:20,904 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49428-1600120040727-0:1) is starting
2020-09-15 00:47:20,917 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49428-1600120040727-0:1) started
2020-09-15 00:47:20,918 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 00:47:21,060 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 00:47:21,223 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 00:47:22,220 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 00:47:22,244 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 16.015 seconds (JVM running for 18.78)
2020-09-15 00:47:22,423 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49428-1600120040727-0:1) is shutting down
2020-09-15 00:47:22,439 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:47:22,446 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 00:47:22,467 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:47:22,472 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 00:47:22,548 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49428-1600120040727-0:1) uptime 1.984 seconds
2020-09-15 00:47:22,553 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49428-1600120040727-0:1) is shutdown
2020-09-15 00:47:27,466 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 00:47:27,478 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:47:27,484 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 00:47:27,485 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 00:47:27,486 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 00:47:27,493 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 00:48:26,407 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 8328 (started by yurat in D:\Projects\Java\demo)
2020-09-15 00:48:26,411 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 00:48:29,306 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 00:48:29,461 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 135ms. Found 3 JPA repository interfaces.
2020-09-15 00:48:32,404 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6587305a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:48:32,480 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:48:33,167 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 00:48:33,265 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 00:48:33,504 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 00:48:33,776 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 00:48:33,986 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 00:48:34,352 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 00:48:36,035 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 00:48:36,037 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 00:48:36,038 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 00:48:36,038 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 00:48:36,039 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 00:48:36,635 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@773c2214, org.springframework.security.web.context.SecurityContextPersistenceFilter@6b63abdc, org.springframework.security.web.header.HeaderWriterFilter@592ca48c, org.springframework.security.web.authentication.logout.LogoutFilter@35787726, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@27e2287c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f08fe00, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f0a133d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15e1f8fe, org.springframework.security.web.session.SessionManagementFilter@3e26482, org.springframework.security.web.access.ExceptionTranslationFilter@72ce812e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7418d76e]
2020-09-15 00:48:36,745 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 00:48:37,495 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 00:48:37,546 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 00:48:38,969 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 00:48:39,545 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 00:48:39,546 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 00:48:39,578 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 32 ms
2020-09-15 00:48:39,677 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 00:48:39,715 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:48:39,954 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 00:48:39,968 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 00:48:40,145 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49448-1600120120004-0:1) is starting
2020-09-15 00:48:40,155 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49448-1600120120004-0:1) started
2020-09-15 00:48:40,155 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 00:48:40,213 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 00:48:40,275 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 00:48:41,332 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 00:48:41,365 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 16.315 seconds (JVM running for 19.968)
2020-09-15 00:48:41,627 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 00:48:41,871 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49448-1600120120004-0:1) is shutting down
2020-09-15 00:48:41,898 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:48:41,909 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 00:48:41,912 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:48:41,920 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:48:41,925 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 00:48:41,928 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 00:48:41,929 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 00:48:41,929 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 00:48:41,943 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49448-1600120120004-0:1) uptime 2.120 seconds
2020-09-15 00:48:41,944 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49448-1600120120004-0:1) is shutdown
2020-09-15 00:48:41,945 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 00:50:06,185 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 12096 (started by yurat in D:\Projects\Java\demo)
2020-09-15 00:50:06,189 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 00:50:08,433 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 00:50:08,556 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 108ms. Found 3 JPA repository interfaces.
2020-09-15 00:50:10,570 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5b9499fe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:50:10,600 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:50:11,064 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 00:50:11,124 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 00:50:11,276 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 00:50:11,434 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 00:50:11,617 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 00:50:12,156 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 00:50:12,921 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 00:50:13,522 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 00:50:13,572 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 00:50:13,614 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 00:50:13,614 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 00:50:13,615 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 00:50:13,615 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 00:50:13,616 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 00:50:13,963 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@599a9cb2, org.springframework.security.web.context.SecurityContextPersistenceFilter@7cff3f1d, org.springframework.security.web.header.HeaderWriterFilter@49fdbe2b, org.springframework.security.web.authentication.logout.LogoutFilter@9df564f, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@4640195a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33a8c9c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@521441d5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a1b36a1, org.springframework.security.web.session.SessionManagementFilter@1f10fec6, org.springframework.security.web.access.ExceptionTranslationFilter@36359723, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@412ebe64]
2020-09-15 00:50:15,968 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 00:50:15,986 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:50:16,184 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 00:50:16,972 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 00:50:16,973 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 00:50:17,039 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 66 ms
2020-09-15 00:50:17,745 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 00:50:17,767 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 00:50:18,015 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49470-1600120217850-0:1) is starting
2020-09-15 00:50:18,025 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49470-1600120217850-0:1) started
2020-09-15 00:50:18,026 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 00:50:18,087 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 00:50:18,187 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 00:50:19,253 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 00:50:19,279 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 14.275 seconds (JVM running for 16.489)
2020-09-15 00:50:19,556 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 00:50:19,801 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49470-1600120217850-0:1) is shutting down
2020-09-15 00:50:19,856 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:50:19,860 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:50:19,865 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 00:50:19,870 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 00:50:19,883 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49470-1600120217850-0:1) uptime 2.410 seconds
2020-09-15 00:50:19,883 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49470-1600120217850-0:1) is shutdown
2020-09-15 00:50:19,886 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 00:50:19,913 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:50:19,918 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 00:50:19,919 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 00:50:19,920 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 00:50:19,938 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 00:56:52,008 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 11864 (started by yurat in D:\Projects\Java\demo)
2020-09-15 00:56:52,013 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 00:56:53,966 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 00:56:54,080 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 100ms. Found 3 JPA repository interfaces.
2020-09-15 00:56:56,198 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@506aabf6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:56:56,218 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:56:56,589 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 00:56:56,693 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 00:56:56,865 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 00:56:57,104 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 00:56:57,306 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 00:56:57,717 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 00:56:58,290 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 00:56:58,930 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 00:56:59,023 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 00:56:59,070 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 00:56:59,070 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 00:56:59,071 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 00:56:59,072 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 00:56:59,074 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 00:56:59,599 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12952aff, org.springframework.security.web.context.SecurityContextPersistenceFilter@2abafa97, org.springframework.security.web.header.HeaderWriterFilter@37e0056e, org.springframework.security.web.authentication.logout.LogoutFilter@4b55ff0a, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@61874b9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40717ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@528c8c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76a7fcbd, org.springframework.security.web.session.SessionManagementFilter@100aa331, org.springframework.security.web.access.ExceptionTranslationFilter@35787726, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@237add]
2020-09-15 00:57:01,757 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 00:57:01,775 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:57:02,004 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 00:57:02,729 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 00:57:02,730 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 00:57:02,763 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 32 ms
2020-09-15 00:57:03,082 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 00:57:03,096 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 00:57:03,337 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49504-1600120623176-0:1) is starting
2020-09-15 00:57:03,347 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49504-1600120623176-0:1) started
2020-09-15 00:57:03,347 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 00:57:03,442 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 00:57:03,515 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 00:57:04,853 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 00:57:04,882 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 14.283 seconds (JVM running for 16.665)
2020-09-15 00:57:05,348 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 00:57:05,754 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49504-1600120623176-0:1) is shutting down
2020-09-15 00:57:05,765 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:57:05,773 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 00:57:05,774 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:57:05,781 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 00:57:05,781 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:57:05,787 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 00:57:05,788 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 00:57:05,792 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 00:57:05,796 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49504-1600120623176-0:1) uptime 2.816 seconds
2020-09-15 00:57:05,796 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49504-1600120623176-0:1) is shutdown
2020-09-15 00:57:05,799 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 00:59:39,003 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 11564 (started by yurat in D:\Projects\Java\demo)
2020-09-15 00:59:39,010 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 00:59:41,068 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 00:59:41,191 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 105ms. Found 3 JPA repository interfaces.
2020-09-15 00:59:43,093 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@49e4c2d5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:59:43,113 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 00:59:43,488 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 00:59:43,542 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 00:59:43,683 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 00:59:43,839 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 00:59:43,972 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 00:59:44,286 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 00:59:44,766 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 00:59:45,314 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 00:59:45,371 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 00:59:45,619 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 00:59:45,628 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 00:59:45,629 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 00:59:45,631 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 00:59:45,632 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 00:59:45,904 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33e0c716, org.springframework.security.web.context.SecurityContextPersistenceFilter@37e0056e, org.springframework.security.web.header.HeaderWriterFilter@15d3793b, org.springframework.security.web.authentication.logout.LogoutFilter@2c3158e0, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@51fc862e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fe2965c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c2cf597, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d6a8386, org.springframework.security.web.session.SessionManagementFilter@35787726, org.springframework.security.web.access.ExceptionTranslationFilter@622d7e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2744dcae]
2020-09-15 00:59:47,349 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 00:59:47,368 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:59:47,779 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 00:59:48,152 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 00:59:48,153 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 00:59:48,177 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 23 ms
2020-09-15 00:59:48,438 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 00:59:48,451 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 00:59:48,634 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49526-1600120788492-0:1) is starting
2020-09-15 00:59:48,645 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49526-1600120788492-0:1) started
2020-09-15 00:59:48,646 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 00:59:48,706 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 00:59:48,770 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 00:59:49,883 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 00:59:49,902 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 11.876 seconds (JVM running for 14.078)
2020-09-15 00:59:50,116 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 00:59:50,355 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49526-1600120788492-0:1) is shutting down
2020-09-15 00:59:50,375 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:59:50,380 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 00:59:50,385 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 00:59:50,386 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 00:59:50,392 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 00:59:50,397 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 00:59:50,397 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49526-1600120788492-0:1) uptime 2.066 seconds
2020-09-15 00:59:50,397 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49526-1600120788492-0:1) is shutdown
2020-09-15 00:59:50,398 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 00:59:50,399 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 00:59:50,404 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 01:00:35,271 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 656 (started by yurat in D:\Projects\Java\demo)
2020-09-15 01:00:35,274 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 01:00:37,412 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 01:00:37,533 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 101ms. Found 3 JPA repository interfaces.
2020-09-15 01:00:39,486 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@73c3cd09' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 01:00:39,512 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 01:00:39,921 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 01:00:39,975 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 01:00:40,188 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 01:00:40,338 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 01:00:40,481 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 01:00:40,874 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 01:00:41,335 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 01:00:41,928 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 01:00:41,977 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 01:00:42,196 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 01:00:42,197 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 01:00:42,199 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 01:00:42,202 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 01:00:42,204 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 01:00:42,480 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@433ea2ac, org.springframework.security.web.context.SecurityContextPersistenceFilter@40717ed, org.springframework.security.web.header.HeaderWriterFilter@2fe2965c, org.springframework.security.web.authentication.logout.LogoutFilter@256a0d95, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@51fc862e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5460edd3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c046c92, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f977fba, org.springframework.security.web.session.SessionManagementFilter@724bf25f, org.springframework.security.web.access.ExceptionTranslationFilter@27976390, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@cbd40c1]
2020-09-15 01:00:44,102 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 01:00:44,119 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 01:00:44,458 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 01:00:44,812 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 01:00:44,812 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 01:00:44,841 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 28 ms
2020-09-15 01:00:45,087 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 01:00:45,105 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 01:00:45,303 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49537-1600120845138-0:1) is starting
2020-09-15 01:00:45,319 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49537-1600120845138-0:1) started
2020-09-15 01:00:45,321 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 01:00:45,373 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 01:00:45,444 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 01:00:46,239 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 01:00:46,260 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 12.179 seconds (JVM running for 14.32)
2020-09-15 01:00:46,482 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 01:00:46,713 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49537-1600120845138-0:1) is shutting down
2020-09-15 01:00:46,730 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 01:00:46,741 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 01:00:46,743 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 01:00:46,748 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 01:00:46,748 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 01:00:46,759 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 01:00:46,760 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 01:00:46,761 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 01:00:46,761 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49537-1600120845138-0:1) uptime 1.774 seconds
2020-09-15 01:00:46,762 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-49537-1600120845138-0:1) is shutdown
2020-09-15 01:00:46,770 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 11:41:30,926 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=10h40m36s134ms125µs400ns).
2020-09-15 22:40:07,270 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 12156 (started by yurat in D:\Projects\Java\demo)
2020-09-15 22:40:07,753 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 22:40:09,384 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 22:40:09,510 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 110ms. Found 3 JPA repository interfaces.
2020-09-15 22:40:11,805 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4a2e7bcb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:40:11,837 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:40:12,226 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 22:40:12,283 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 22:40:12,409 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 22:40:12,572 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 22:40:12,696 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 22:40:13,188 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 22:40:13,623 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 22:40:14,158 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 22:40:14,221 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 22:40:14,644 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 22:40:14,648 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 22:40:14,658 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 22:40:14,662 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 22:40:14,664 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 22:40:15,137 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c60202, org.springframework.security.web.context.SecurityContextPersistenceFilter@100aa331, org.springframework.security.web.header.HeaderWriterFilter@35787726, org.springframework.security.web.authentication.logout.LogoutFilter@599a9cb2, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@4f2d014a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@724bf25f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@613f7eb7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7889b4b9, org.springframework.security.web.session.SessionManagementFilter@798cb6d9, org.springframework.security.web.access.ExceptionTranslationFilter@1310fcb0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1d6a8386]
2020-09-15 22:40:17,135 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 22:40:17,156 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:40:17,705 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 22:40:18,117 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 22:40:18,118 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 22:40:18,147 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 24 ms
2020-09-15 22:40:18,490 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 22:40:18,575 INFO org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
2020-09-15 22:40:18,785 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52560-1600198818563-0:1) is starting
2020-09-15 22:40:18,801 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52560-1600198818563-0:1) started
2020-09-15 22:40:18,803 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 22:40:18,943 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 22:40:19,043 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 22:40:20,242 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 22:40:20,272 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 13.917 seconds (JVM running for 18.0)
2020-09-15 22:40:20,615 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 22:40:20,807 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52560-1600198818563-0:1) is shutting down
2020-09-15 22:40:20,867 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 22:40:20,867 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:40:20,874 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 22:40:20,876 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:40:20,912 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:40:20,917 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52560-1600198818563-0:1) uptime 2.599 seconds
2020-09-15 22:40:20,919 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52560-1600198818563-0:1) is shutdown
2020-09-15 22:40:20,921 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 22:40:20,923 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 22:40:20,930 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 22:40:20,941 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 22:41:04,586 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 5764 (started by yurat in D:\Projects\Java\demo)
2020-09-15 22:41:04,673 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 22:41:07,105 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 22:41:07,226 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 103ms. Found 3 JPA repository interfaces.
2020-09-15 22:41:09,196 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@73c3cd09' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:41:09,227 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:41:09,638 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 22:41:09,697 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 22:41:09,896 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 22:41:10,021 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 22:41:10,166 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 22:41:10,568 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 22:41:10,979 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 22:41:11,648 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 22:41:11,751 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 22:41:12,020 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 22:41:12,021 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 22:41:12,024 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 22:41:12,026 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 22:41:12,027 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 22:41:12,345 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5eb0a686, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c046c92, org.springframework.security.web.header.HeaderWriterFilter@2abafa97, org.springframework.security.web.authentication.logout.LogoutFilter@7418d76e, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@fe09383, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@643ba1ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f84327b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73608eb0, org.springframework.security.web.session.SessionManagementFilter@587c5c1, org.springframework.security.web.access.ExceptionTranslationFilter@100aa331, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@446e7065]
2020-09-15 22:41:13,731 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 22:41:13,748 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:41:14,184 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 22:41:14,583 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 22:41:14,584 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 22:41:14,614 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 30 ms
2020-09-15 22:41:14,901 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 22:41:14,952 INFO org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
2020-09-15 22:41:15,145 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52579-1600198874956-0:1) is starting
2020-09-15 22:41:15,154 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52579-1600198874956-0:1) started
2020-09-15 22:41:15,155 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 22:41:15,221 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 22:41:15,290 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 22:41:16,189 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 22:41:16,216 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 12.753 seconds (JVM running for 15.138)
2020-09-15 22:41:16,482 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 22:41:16,669 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52579-1600198874956-0:1) is shutting down
2020-09-15 22:41:16,682 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:41:16,686 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 22:41:16,734 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 22:41:16,743 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:41:16,749 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:41:16,786 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52579-1600198874956-0:1) uptime 2.016 seconds
2020-09-15 22:41:16,791 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 22:41:16,793 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 22:41:16,795 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 22:41:16,802 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52579-1600198874956-0:1) is shutdown
2020-09-15 22:41:16,851 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 22:42:55,815 INFO org.springframework.boot.StartupInfoLogger [main] Starting DemoApplication on DESKTOP-7GLQTMP with PID 9956 (D:\Projects\Java\demo\target\classes started by yurat in D:\Projects\Java\demo)
2020-09-15 22:42:55,820 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 22:42:58,202 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 22:42:58,289 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 77ms. Found 3 JPA repository interfaces.
2020-09-15 22:42:58,916 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@15fdd1f2' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:42:58,929 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:42:59,549 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-09-15 22:42:59,559 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-09-15 22:42:59,560 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-09-15 22:42:59,561 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-09-15 22:42:59,788 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-09-15 22:42:59,789 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3837 ms
2020-09-15 22:42:59,868 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-09-15 22:43:00,246 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-09-15 22:43:00,254 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 22:43:00,494 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 22:43:00,512 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 22:43:00,558 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 22:43:00,624 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 22:43:00,835 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 22:43:00,972 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 22:43:01,253 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 22:43:01,702 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 22:43:01,702 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 22:43:01,703 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 22:43:01,703 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 22:43:01,704 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 22:43:01,784 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17410c07, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c7350b0, org.springframework.security.web.header.HeaderWriterFilter@29b40b3, org.springframework.security.web.authentication.logout.LogoutFilter@355c94be, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@d0865a3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bc4ef12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@470d183, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ee99964, org.springframework.security.web.session.SessionManagementFilter@1a3e8e24, org.springframework.security.web.access.ExceptionTranslationFilter@329548d0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@bbd4791]
2020-09-15 22:43:02,765 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-09-15 22:43:02,821 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-09-15 22:43:02,970 INFO org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
2020-09-15 22:43:02,972 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 22:43:03,333 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 22:43:03,348 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:43:03,361 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52604-1600198982985-0:1) is starting
2020-09-15 22:43:03,367 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52604-1600198982985-0:1) started
2020-09-15 22:43:03,368 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 22:43:03,429 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 22:43:03,488 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 22:43:04,139 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 22:43:04,157 INFO org.springframework.boot.StartupInfoLogger [main] Started DemoApplication in 9.549 seconds (JVM running for 12.698)
2020-09-15 22:46:34,935 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 10648 (started by yurat in D:\Projects\Java\demo)
2020-09-15 22:46:34,939 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 22:46:38,282 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 22:46:38,463 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 158ms. Found 3 JPA repository interfaces.
2020-09-15 22:46:41,128 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4a2e7bcb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:46:41,164 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:46:42,027 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 22:46:42,111 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 22:46:42,330 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 22:46:42,601 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 22:46:42,788 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 22:46:43,496 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 22:46:44,292 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 22:46:45,119 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 22:46:45,242 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 22:46:45,597 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 22:46:45,597 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 22:46:45,604 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 22:46:45,614 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 22:46:45,621 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 22:46:46,064 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cbd40c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@42679fc2, org.springframework.security.web.header.HeaderWriterFilter@1ef31f71, org.springframework.security.web.authentication.logout.LogoutFilter@7a83ccd2, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@61874b9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@100aa331, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5460edd3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fa86cb8, org.springframework.security.web.session.SessionManagementFilter@3375ebd3, org.springframework.security.web.access.ExceptionTranslationFilter@68a305eb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1c297897]
2020-09-15 22:46:48,846 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-09-15 22:46:48,847 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2020-09-15 22:46:48,868 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 20 ms
2020-09-15 22:46:50,189 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 22:46:50,228 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:46:50,975 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 22:46:52,132 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 22:46:52,138 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 22:46:52,220 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 82 ms
2020-09-15 22:46:53,259 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 22:46:53,269 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 22:46:53,875 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52647-1600199213310-0:1) is starting
2020-09-15 22:46:53,893 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52647-1600199213310-0:1) started
2020-09-15 22:46:53,905 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 22:46:54,141 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 22:46:54,386 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 22:46:56,776 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 22:46:56,915 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 23.454 seconds (JVM running for 26.698)
2020-09-15 22:46:57,554 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 22:46:58,003 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52647-1600199213310-0:1) is shutting down
2020-09-15 22:46:58,027 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:46:58,035 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 22:46:58,051 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 22:46:58,056 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 22:46:58,073 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:46:58,080 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:46:58,088 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 22:46:58,088 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 22:46:58,090 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 22:46:58,100 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52647-1600199213310-0:1) uptime 5.026 seconds
2020-09-15 22:46:58,101 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52647-1600199213310-0:1) is shutdown
2020-09-15 22:46:58,176 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 22:47:57,670 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 7660 (started by yurat in D:\Projects\Java\demo)
2020-09-15 22:47:57,674 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 22:48:03,853 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 22:48:04,334 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 423ms. Found 3 JPA repository interfaces.
2020-09-15 22:48:09,076 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5dbb50f3' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:48:09,126 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:48:10,717 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 22:48:10,896 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 22:48:11,356 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 22:48:11,638 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 22:48:12,436 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 22:48:13,249 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 22:48:16,477 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 22:48:17,723 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 22:48:17,725 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 22:48:17,729 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 22:48:17,730 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 22:48:17,730 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 22:48:17,925 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 22:48:18,103 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 22:48:18,494 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c297897, org.springframework.security.web.context.SecurityContextPersistenceFilter@27976390, org.springframework.security.web.header.HeaderWriterFilter@261b9a37, org.springframework.security.web.authentication.logout.LogoutFilter@153cb763, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@d611f1c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@415795f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@100aa331, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33e0c716, org.springframework.security.web.session.SessionManagementFilter@6e8fdd19, org.springframework.security.web.access.ExceptionTranslationFilter@7fd99443, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50b734c4]
2020-09-15 22:48:23,035 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 22:48:23,318 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 22:48:23,343 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:48:24,008 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 22:48:24,008 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 22:48:24,085 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 76 ms
2020-09-15 22:48:26,568 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 22:48:26,618 INFO org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
2020-09-15 22:48:27,042 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52670-1600199306633-0:1) is starting
2020-09-15 22:48:27,055 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52670-1600199306633-0:1) started
2020-09-15 22:48:27,056 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 22:48:27,225 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 22:48:27,457 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 22:48:30,833 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 22:48:30,894 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 34.999 seconds (JVM running for 38.5)
2020-09-15 22:48:31,354 INFO org.springframework.boot.StartupInfoLogger [main] Starting DemoApplication on DESKTOP-7GLQTMP with PID 12240 (D:\Projects\Java\demo\target\classes started by yurat in D:\Projects\Java\demo)
2020-09-15 22:48:31,360 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 22:48:31,997 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 22:48:32,603 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52670-1600199306633-0:1) is shutting down
2020-09-15 22:48:32,677 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:48:32,707 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 22:48:32,751 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 22:48:32,753 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:48:32,762 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:48:32,798 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52670-1600199306633-0:1) uptime 8.337 seconds
2020-09-15 22:48:32,799 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52670-1600199306633-0:1) is shutdown
2020-09-15 22:48:32,807 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 22:48:32,810 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 22:48:32,815 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 22:48:33,005 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 22:48:35,395 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 22:48:35,761 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 342ms. Found 3 JPA repository interfaces.
2020-09-15 22:48:37,242 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1704f67f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:48:37,251 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:48:37,732 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2020-09-15 22:48:37,747 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2020-09-15 22:48:37,748 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-09-15 22:48:37,749 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-09-15 22:48:38,015 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-09-15 22:48:38,015 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6453 ms
2020-09-15 22:48:38,110 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-09-15 22:48:38,399 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-09-15 22:48:38,410 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 22:48:38,771 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 22:48:38,793 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 22:48:38,864 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 22:48:38,946 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 22:48:39,089 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 22:48:39,190 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 22:48:39,402 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 22:48:39,716 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 22:48:39,717 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 22:48:39,718 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 22:48:39,718 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 22:48:39,718 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 22:48:39,825 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@551e4c6d, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ddeaa5f, org.springframework.security.web.header.HeaderWriterFilter@5634a861, org.springframework.security.web.authentication.logout.LogoutFilter@4db60246, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@26b95b0b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f608e21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c781c42, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@625a9c5d, org.springframework.security.web.session.SessionManagementFilter@3e7b65d7, org.springframework.security.web.access.ExceptionTranslationFilter@3bc4ef12, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b2df3aa]
2020-09-15 22:48:40,972 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2020-09-15 22:48:41,013 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2020-09-15 22:48:41,364 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 22:48:41,741 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 22:48:41,744 INFO org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
2020-09-15 22:48:41,759 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:48:41,783 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52680-1600199321394-0:1) is starting
2020-09-15 22:48:41,794 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52680-1600199321394-0:1) started
2020-09-15 22:48:41,795 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 22:48:41,852 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 22:48:41,919 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 22:48:42,492 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 22:48:42,511 INFO org.springframework.boot.StartupInfoLogger [main] Started DemoApplication in 14.226 seconds (JVM running for 17.615)
2020-09-15 22:48:46,988 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-09-15 22:48:46,989 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2020-09-15 22:48:47,006 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 17 ms
2020-09-15 22:49:00,690 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [http-nio-8080-exec-3] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 22:53:34,668 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 5256 (started by yurat in D:\Projects\Java\demo)
2020-09-15 22:53:34,672 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 22:53:38,810 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 22:53:38,939 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 115ms. Found 3 JPA repository interfaces.
2020-09-15 22:53:41,123 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5f59ea8c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:53:41,148 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:53:41,584 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 22:53:41,647 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 22:53:41,830 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 22:53:42,012 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 22:53:42,182 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 22:53:42,780 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 22:53:43,507 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 22:53:44,065 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 22:53:44,129 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 22:53:44,362 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 22:53:44,363 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 22:53:44,364 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 22:53:44,365 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 22:53:44,365 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 22:53:44,707 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6de7778f, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a8dd942, org.springframework.security.web.header.HeaderWriterFilter@6d69a0d3, org.springframework.security.web.authentication.logout.LogoutFilter@6da54910, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@3e046e39, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35025a0a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16cf8438, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@367d34c0, org.springframework.security.web.session.SessionManagementFilter@611d0763, org.springframework.security.web.access.ExceptionTranslationFilter@66f16742, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@691567ea]
2020-09-15 22:53:46,540 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 22:53:46,558 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:53:46,925 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 22:53:47,335 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 22:53:47,336 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 22:53:47,359 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 23 ms
2020-09-15 22:53:47,620 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 22:53:47,633 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 22:53:47,862 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52716-1600199627668-0:1) is starting
2020-09-15 22:53:47,881 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52716-1600199627668-0:1) started
2020-09-15 22:53:47,884 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 22:53:47,940 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 22:53:48,013 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 22:53:48,897 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 22:53:48,920 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 15.909 seconds (JVM running for 19.158)
2020-09-15 22:53:49,104 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 22:53:49,593 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52716-1600199627668-0:1) is shutting down
2020-09-15 22:53:49,655 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:53:49,659 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 22:53:49,662 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 22:53:49,669 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:53:49,670 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 22:53:49,675 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:53:49,680 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52716-1600199627668-0:1) uptime 2.157 seconds
2020-09-15 22:53:49,681 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52716-1600199627668-0:1) is shutdown
2020-09-15 22:53:49,683 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 22:53:49,685 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 22:53:49,686 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 22:53:49,693 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 22:54:19,550 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [http-nio-8080-exec-6] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 22:55:03,483 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 248 (started by yurat in D:\Projects\Java\demo)
2020-09-15 22:55:03,487 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 22:55:05,778 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 22:55:05,899 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 106ms. Found 3 JPA repository interfaces.
2020-09-15 22:55:08,076 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@41ccb3b9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:55:08,099 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:55:08,521 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 22:55:08,578 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 22:55:08,754 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 22:55:08,919 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 22:55:09,112 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 22:55:09,575 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 22:55:10,153 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 22:55:10,853 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 22:55:10,907 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 22:55:11,283 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 22:55:11,284 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 22:55:11,285 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 22:55:11,294 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 22:55:11,295 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 22:55:11,576 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@367d34c0, org.springframework.security.web.context.SecurityContextPersistenceFilter@2322e56f, org.springframework.security.web.header.HeaderWriterFilter@4f114b, org.springframework.security.web.authentication.logout.LogoutFilter@1bd8afc8, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@46fc522d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38732364, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e5beab5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ce25e47, org.springframework.security.web.session.SessionManagementFilter@615efd1c, org.springframework.security.web.access.ExceptionTranslationFilter@2871ac91, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5cfed0ba]
2020-09-15 22:55:13,698 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 22:55:13,719 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:55:14,114 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 22:55:14,556 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 22:55:14,556 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 22:55:14,582 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 25 ms
2020-09-15 22:55:14,876 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 22:55:14,885 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 22:55:15,112 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52731-1600199714920-0:1) is starting
2020-09-15 22:55:15,128 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52731-1600199714920-0:1) started
2020-09-15 22:55:15,129 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 22:55:15,178 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 22:55:15,252 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 22:55:16,204 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 22:55:16,237 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 14.307 seconds (JVM running for 16.653)
2020-09-15 22:55:16,713 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52731-1600199714920-0:1) is shutting down
2020-09-15 22:55:16,727 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:55:16,731 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 22:55:16,736 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 22:55:16,744 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:55:16,745 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 22:55:16,749 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:55:16,753 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 22:55:16,755 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 22:55:16,756 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 22:55:16,759 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52731-1600199714920-0:1) uptime 2.013 seconds
2020-09-15 22:55:16,760 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52731-1600199714920-0:1) is shutdown
2020-09-15 22:55:16,764 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 22:56:18,980 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 12104 (started by yurat in D:\Projects\Java\demo)
2020-09-15 22:56:18,986 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 22:56:21,375 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 22:56:21,502 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 110ms. Found 3 JPA repository interfaces.
2020-09-15 22:56:23,670 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2f80cb79' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:56:23,695 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:56:24,102 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 22:56:24,158 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 22:56:24,314 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 22:56:24,507 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 22:56:24,676 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 22:56:25,252 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 22:56:25,671 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 22:56:26,356 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 22:56:26,410 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 22:56:26,696 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 22:56:26,699 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 22:56:26,699 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 22:56:26,700 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 22:56:26,700 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 22:56:27,011 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a0ab480, org.springframework.security.web.context.SecurityContextPersistenceFilter@41aebbb4, org.springframework.security.web.header.HeaderWriterFilter@20349058, org.springframework.security.web.authentication.logout.LogoutFilter@251c90f, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@55acec99, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a592c70, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8641b7d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79df80a4, org.springframework.security.web.session.SessionManagementFilter@42c12b3e, org.springframework.security.web.access.ExceptionTranslationFilter@12abcd1e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3002e397]
2020-09-15 22:56:29,024 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 22:56:29,051 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:56:29,509 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 22:56:29,943 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 22:56:29,943 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 22:56:29,966 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 23 ms
2020-09-15 22:56:30,250 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 22:56:30,267 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 22:56:30,492 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52742-1600199790313-0:1) is starting
2020-09-15 22:56:30,506 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52742-1600199790313-0:1) started
2020-09-15 22:56:30,507 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 22:56:30,575 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 22:56:30,650 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 22:56:31,505 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 22:56:31,529 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 13.641 seconds (JVM running for 15.982)
2020-09-15 22:56:31,894 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52742-1600199790313-0:1) is shutting down
2020-09-15 22:56:31,918 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 22:56:31,923 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:56:31,928 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 22:56:31,928 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:56:31,930 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 22:56:31,943 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52742-1600199790313-0:1) uptime 1.816 seconds
2020-09-15 22:56:31,944 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52742-1600199790313-0:1) is shutdown
2020-09-15 22:56:31,946 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:56:31,950 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 22:56:31,951 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 22:56:31,952 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 22:56:31,957 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 22:57:21,704 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 4720 (started by yurat in D:\Projects\Java\demo)
2020-09-15 22:57:21,708 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 22:57:24,167 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 22:57:24,303 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 116ms. Found 3 JPA repository interfaces.
2020-09-15 22:57:26,520 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5a13fcf3' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:57:26,557 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 22:57:26,962 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 22:57:27,019 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 22:57:27,170 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 22:57:27,315 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 22:57:27,476 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 22:57:28,214 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 22:57:28,408 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 22:57:29,071 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 22:57:29,126 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 22:57:29,471 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 22:57:29,474 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 22:57:29,476 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 22:57:29,478 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 22:57:29,479 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 22:57:29,769 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7da1e005, org.springframework.security.web.context.SecurityContextPersistenceFilter@48d739f, org.springframework.security.web.header.HeaderWriterFilter@2313db84, org.springframework.security.web.authentication.logout.LogoutFilter@30abf79c, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@2519026b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65cc5252, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@252ec02e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38159384, org.springframework.security.web.session.SessionManagementFilter@cdb3c85, org.springframework.security.web.access.ExceptionTranslationFilter@538a2f0e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@342ee097]
2020-09-15 22:57:31,394 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 22:57:31,412 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:57:31,936 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 22:57:32,435 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 22:57:32,435 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 22:57:32,468 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 32 ms
2020-09-15 22:57:32,766 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 22:57:32,775 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 22:57:33,003 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52754-1600199852813-0:1) is starting
2020-09-15 22:57:33,016 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52754-1600199852813-0:1) started
2020-09-15 22:57:33,018 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 22:57:33,080 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 22:57:33,159 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 22:57:34,026 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 22:57:34,050 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 13.67 seconds (JVM running for 16.036)
2020-09-15 22:57:34,453 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52754-1600199852813-0:1) is shutting down
2020-09-15 22:57:34,466 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:57:34,472 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 22:57:34,475 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 22:57:34,481 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 22:57:34,483 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 22:57:34,489 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 22:57:34,493 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 22:57:34,494 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 22:57:34,495 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52754-1600199852813-0:1) uptime 1.842 seconds
2020-09-15 22:57:34,496 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52754-1600199852813-0:1) is shutdown
2020-09-15 22:57:34,495 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 22:57:34,502 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 23:01:34,280 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 10932 (started by yurat in D:\Projects\Java\demo)
2020-09-15 23:01:34,285 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 23:01:36,564 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 23:01:36,679 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 101ms. Found 3 JPA repository interfaces.
2020-09-15 23:01:38,865 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@343fddd9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:01:38,897 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:01:39,273 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 23:01:39,326 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 23:01:39,483 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 23:01:39,639 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 23:01:39,779 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 23:01:40,287 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 23:01:40,682 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 23:01:41,212 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 23:01:41,266 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 23:01:41,450 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 23:01:41,452 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 23:01:41,453 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 23:01:41,462 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 23:01:41,463 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 23:01:41,730 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3002e397, org.springframework.security.web.context.SecurityContextPersistenceFilter@33d28f0a, org.springframework.security.web.header.HeaderWriterFilter@508ad266, org.springframework.security.web.authentication.logout.LogoutFilter@6d7ad0f5, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@7f3ca64a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51e7589f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a592c70, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7da1e005, org.springframework.security.web.session.SessionManagementFilter@6cbb7a7d, org.springframework.security.web.access.ExceptionTranslationFilter@6222391a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b1321b7]
2020-09-15 23:01:43,479 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 23:01:43,498 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:01:43,742 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 23:01:44,149 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 23:01:44,150 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 23:01:44,171 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 21 ms
2020-09-15 23:01:44,437 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 23:01:44,449 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 23:01:44,633 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52826-1600200104478-0:1) is starting
2020-09-15 23:01:44,644 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52826-1600200104478-0:1) started
2020-09-15 23:01:44,644 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 23:01:44,699 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 23:01:44,778 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 23:01:45,557 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 23:01:45,576 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 12.278 seconds (JVM running for 14.837)
2020-09-15 23:01:45,828 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52826-1600200104478-0:1) is shutting down
2020-09-15 23:01:45,885 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:01:45,895 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 23:01:45,901 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:01:45,903 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 23:01:45,912 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52826-1600200104478-0:1) uptime 1.587 seconds
2020-09-15 23:01:45,912 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52826-1600200104478-0:1) is shutdown
2020-09-15 23:01:50,912 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 23:01:50,919 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:01:50,922 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 23:01:50,923 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 23:01:50,924 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 23:01:50,930 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 23:03:10,320 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 7516 (started by yurat in D:\Projects\Java\demo)
2020-09-15 23:03:10,323 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 23:03:12,316 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 23:03:12,439 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 106ms. Found 3 JPA repository interfaces.
2020-09-15 23:03:14,439 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@72b6832e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:03:14,467 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:03:14,831 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 23:03:14,886 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 23:03:15,044 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 23:03:15,202 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 23:03:15,306 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 23:03:15,622 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 23:03:16,181 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 23:03:16,669 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 23:03:16,718 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 23:03:16,904 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 23:03:16,915 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 23:03:16,916 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 23:03:16,917 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 23:03:16,918 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 23:03:17,254 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@de77146, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fde2209, org.springframework.security.web.header.HeaderWriterFilter@2db86a7c, org.springframework.security.web.authentication.logout.LogoutFilter@6ddd1c51, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@588545ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67acfde9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2322e56f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@691567ea, org.springframework.security.web.session.SessionManagementFilter@6d69a0d3, org.springframework.security.web.access.ExceptionTranslationFilter@492be039, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c951ada]
2020-09-15 23:03:18,858 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 23:03:18,879 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:03:19,236 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 23:03:19,645 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 23:03:19,646 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 23:03:19,670 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 23 ms
2020-09-15 23:03:19,922 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 23:03:19,934 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 23:03:20,141 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52840-1600200199966-0:1) is starting
2020-09-15 23:03:20,151 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52840-1600200199966-0:1) started
2020-09-15 23:03:20,152 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 23:03:20,232 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 23:03:20,355 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 23:03:21,209 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 23:03:21,231 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 12.289 seconds (JVM running for 14.41)
2020-09-15 23:03:21,566 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 23:03:21,827 WARN org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder [main] Encoded password does not look like BCrypt
2020-09-15 23:03:21,850 ERROR com.example.demo.aspect.LoggingAspect [main] Exception in com.example.demo.controller.JwtAuthRestController.createAuthenticationToken() with cause = NULL
2020-09-15 23:03:21,910 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52840-1600200199966-0:1) is shutting down
2020-09-15 23:03:21,924 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:03:21,935 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 23:03:21,936 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:03:21,942 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 23:03:21,947 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:03:21,953 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 23:03:21,954 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52840-1600200199966-0:1) uptime 2.141 seconds
2020-09-15 23:03:21,954 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52840-1600200199966-0:1) is shutdown
2020-09-15 23:03:21,955 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 23:03:21,962 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 23:03:21,973 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 23:04:14,742 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 9852 (started by yurat in D:\Projects\Java\demo)
2020-09-15 23:04:14,745 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 23:04:16,950 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 23:04:17,186 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 211ms. Found 3 JPA repository interfaces.
2020-09-15 23:04:19,453 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7e91ed74' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:04:19,474 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:04:19,888 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 23:04:19,945 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 23:04:20,105 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 23:04:20,246 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 23:04:20,545 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 23:04:20,834 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 23:04:21,975 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 23:04:24,694 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 23:04:25,010 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 23:04:25,244 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 23:04:25,244 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 23:04:25,245 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 23:04:25,246 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 23:04:25,246 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 23:04:26,143 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a9840f3, org.springframework.security.web.context.SecurityContextPersistenceFilter@492be039, org.springframework.security.web.header.HeaderWriterFilter@29d25e65, org.springframework.security.web.authentication.logout.LogoutFilter@38732364, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@78a8978a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1118d539, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57186526, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d30007d, org.springframework.security.web.session.SessionManagementFilter@6aa7e176, org.springframework.security.web.access.ExceptionTranslationFilter@563ccd31, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7aa01bd9]
2020-09-15 23:04:32,416 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 23:04:32,980 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 23:04:33,030 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:04:33,487 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 23:04:33,488 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 23:04:33,536 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 47 ms
2020-09-15 23:04:34,149 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 23:04:34,215 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 23:04:34,426 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52853-1600200274202-0:1) is starting
2020-09-15 23:04:34,447 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52853-1600200274202-0:1) started
2020-09-15 23:04:34,448 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 23:04:34,546 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 23:04:34,670 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 23:04:36,535 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 23:04:36,577 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 23.111 seconds (JVM running for 25.372)
2020-09-15 23:04:37,083 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 23:04:37,318 WARN org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder [main] Encoded password does not look like BCrypt
2020-09-15 23:04:37,328 ERROR com.example.demo.aspect.LoggingAspect [main] Exception in com.example.demo.controller.JwtAuthRestController.createAuthenticationToken() with cause = NULL
2020-09-15 23:04:37,380 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52853-1600200274202-0:1) is shutting down
2020-09-15 23:04:37,391 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:04:37,397 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 23:04:37,398 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:04:37,408 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 23:04:37,408 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:04:37,412 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 23:04:37,415 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 23:04:37,418 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52853-1600200274202-0:1) uptime 3.553 seconds
2020-09-15 23:04:37,419 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 23:04:37,419 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52853-1600200274202-0:1) is shutdown
2020-09-15 23:04:37,427 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 23:05:04,180 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 10588 (started by yurat in D:\Projects\Java\demo)
2020-09-15 23:05:04,185 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 23:05:06,581 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 23:05:06,706 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 108ms. Found 3 JPA repository interfaces.
2020-09-15 23:05:08,964 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@23ed382c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:05:09,004 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:05:09,467 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 23:05:09,531 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 23:05:09,728 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 23:05:09,928 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 23:05:10,105 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 23:05:10,441 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 23:05:11,217 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 23:05:11,855 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 23:05:11,909 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 23:05:11,937 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 23:05:11,938 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 23:05:11,939 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 23:05:11,939 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 23:05:11,940 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 23:05:12,375 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b96de8d, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a2ac487, org.springframework.security.web.header.HeaderWriterFilter@51ba952e, org.springframework.security.web.authentication.logout.LogoutFilter@57186526, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@6002e944, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36224f93, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19b75b2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ccd611e, org.springframework.security.web.session.SessionManagementFilter@2c6c302f, org.springframework.security.web.access.ExceptionTranslationFilter@299b9851, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b2fdffc]
2020-09-15 23:05:14,481 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 23:05:14,501 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:05:14,771 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 23:05:15,276 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 23:05:15,277 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 23:05:15,314 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 36 ms
2020-09-15 23:05:15,729 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 23:05:15,747 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 23:05:15,971 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52865-1600200315789-0:1) is starting
2020-09-15 23:05:15,984 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52865-1600200315789-0:1) started
2020-09-15 23:05:15,985 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 23:05:16,069 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 23:05:16,158 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 23:05:17,238 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 23:05:17,271 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 14.826 seconds (JVM running for 17.175)
2020-09-15 23:05:17,727 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 23:05:18,092 WARN org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder [main] Encoded password does not look like BCrypt
2020-09-15 23:05:18,110 ERROR com.example.demo.aspect.LoggingAspect [main] Exception in com.example.demo.controller.JwtAuthRestController.createAuthenticationToken() with cause = NULL
2020-09-15 23:05:18,172 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52865-1600200315789-0:1) is shutting down
2020-09-15 23:05:18,196 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:05:18,205 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 23:05:18,208 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 23:05:18,219 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:05:18,222 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 23:05:18,239 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:05:18,245 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 23:05:18,246 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52865-1600200315789-0:1) uptime 2.653 seconds
2020-09-15 23:05:18,246 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 23:05:18,247 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 23:05:18,250 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52865-1600200315789-0:1) is shutdown
2020-09-15 23:05:18,258 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 23:06:46,387 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 3404 (started by yurat in D:\Projects\Java\demo)
2020-09-15 23:06:46,392 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 23:06:48,748 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 23:06:48,886 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 116ms. Found 3 JPA repository interfaces.
2020-09-15 23:06:51,193 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1e84f3c8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:06:51,223 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:06:51,655 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 23:06:51,725 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 23:06:51,885 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 23:06:52,080 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 23:06:52,292 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 23:06:52,862 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 23:06:53,313 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 23:06:53,926 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 23:06:53,977 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 23:06:54,192 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 23:06:54,193 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 23:06:54,194 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 23:06:54,196 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 23:06:54,197 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 23:06:54,513 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@350da119, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c70aae1, org.springframework.security.web.header.HeaderWriterFilter@1f916219, org.springframework.security.web.authentication.logout.LogoutFilter@22f02996, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@5a08b084, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f38f084, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5968800d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a09484c, org.springframework.security.web.session.SessionManagementFilter@2322e56f, org.springframework.security.web.access.ExceptionTranslationFilter@4f114b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28be7fec]
2020-09-15 23:06:56,477 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 23:06:56,493 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:06:56,843 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 23:06:57,307 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 23:06:57,307 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 23:06:57,332 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 24 ms
2020-09-15 23:06:57,618 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 23:06:57,633 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 23:06:57,851 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52878-1600200417667-0:1) is starting
2020-09-15 23:06:57,864 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52878-1600200417667-0:1) started
2020-09-15 23:06:57,865 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 23:06:57,928 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 23:06:58,000 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 23:06:58,950 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 23:06:58,978 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 13.75 seconds (JVM running for 16.37)
2020-09-15 23:06:59,523 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 23:06:59,661 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52878-1600200417667-0:1) is shutting down
2020-09-15 23:06:59,677 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:06:59,684 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 23:06:59,692 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:06:59,693 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 23:06:59,698 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:06:59,709 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 23:06:59,711 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 23:06:59,712 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 23:06:59,715 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52878-1600200417667-0:1) uptime 2.210 seconds
2020-09-15 23:06:59,716 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52878-1600200417667-0:1) is shutdown
2020-09-15 23:06:59,720 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2020-09-15 23:07:20,626 INFO org.springframework.boot.StartupInfoLogger [main] Starting JwtAuthRestControllerTest on DESKTOP-7GLQTMP with PID 12204 (started by yurat in D:\Projects\Java\demo)
2020-09-15 23:07:20,630 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-09-15 23:07:22,925 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-09-15 23:07:23,073 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 132ms. Found 3 JPA repository interfaces.
2020-09-15 23:07:26,326 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5f59ea8c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:07:26,350 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-09-15 23:07:26,825 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-09-15 23:07:26,978 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-09-15 23:07:27,242 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-09-15 23:07:27,574 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-09-15 23:07:27,778 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-09-15 23:07:28,285 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-09-15 23:07:28,770 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Starting...
2020-09-15 23:07:29,353 INFO com.zaxxer.hikari.HikariDataSource [task-1] HikariPool-1 - Start completed.
2020-09-15 23:07:29,400 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-09-15 23:07:29,569 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/authenticate', POST], []
2020-09-15 23:07:29,570 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/**', OPTIONS], []
2020-09-15 23:07:29,570 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/', GET], []
2020-09-15 23:07:29,571 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/h2-console/**/**'], []
2020-09-15 23:07:29,571 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/user/register'], []
2020-09-15 23:07:29,972 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ce25e47, org.springframework.security.web.context.SecurityContextPersistenceFilter@35025a0a, org.springframework.security.web.header.HeaderWriterFilter@257f30f7, org.springframework.security.web.authentication.logout.LogoutFilter@24134cbc, com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter@5d7911d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c70aae1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c588adc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6380e9e9, org.springframework.security.web.session.SessionManagementFilter@1e226bcd, org.springframework.security.web.access.ExceptionTranslationFilter@3c54ddec, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c8d58ed]
2020-09-15 23:07:32,443 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-09-15 23:07:32,517 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:07:32,807 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testDb'
2020-09-15 23:07:33,846 INFO org.springframework.mock.web.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2020-09-15 23:07:33,847 INFO org.springframework.web.servlet.FrameworkServlet [main] Initializing Servlet ''
2020-09-15 23:07:33,908 INFO org.springframework.web.servlet.FrameworkServlet [main] Completed initialization in 60 ms
2020-09-15 23:07:34,788 INFO org.apache.activemq.broker.BrokerService [main] Using Persistence Adapter: MemoryPersistenceAdapter
2020-09-15 23:07:34,872 WARN org.apache.activemq.broker.jmx.ManagementContext$1 [JMX connector] Failed to start JMX connector Port already in use: 1099; nested exception is: 
	java.net.BindException: Address already in use: JVM_Bind. Will restart management to re-create JMX connector, trying to remedy this issue.
2020-09-15 23:07:35,068 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52890-1600200454879-0:1) is starting
2020-09-15 23:07:35,078 INFO org.apache.activemq.broker.BrokerService [main] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52890-1600200454879-0:1) started
2020-09-15 23:07:35,079 INFO org.apache.activemq.broker.BrokerService [main] For help or more information please see: http://activemq.apache.org
2020-09-15 23:07:35,148 INFO org.apache.activemq.broker.TransportConnector [main] Connector vm://localhost started
2020-09-15 23:07:35,257 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-09-15 23:07:36,487 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-09-15 23:07:36,521 INFO org.springframework.boot.StartupInfoLogger [main] Started JwtAuthRestControllerTest in 17.564 seconds (JVM running for 20.612)
2020-09-15 23:07:37,026 WARN com.example.demo.jwt.JwtTokenAuthorizationOncePerRequestFilter [main] JWT TOKEN DOES NOT START WITH BEARER STRING
2020-09-15 23:07:37,220 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52890-1600200454879-0:1) is shutting down
2020-09-15 23:07:37,240 INFO org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Encountered a JMSException - resetting the underlying JMS Connection
javax.jms.JMSException: peer (vm://localhost#1) stopped.
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)
	at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1960)
	at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1979)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:126)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:07:37,245 WARN org.springframework.jms.listener.DefaultMessageListenerContainer [DefaultMessageListenerContainer-1] Setup of JMS message listener invoker failed for destination 'mail' - trying to recover. Cause: The Session is closed
2020-09-15 23:07:37,252 INFO org.apache.activemq.broker.TransportConnector [ActiveMQ ShutdownHook] Connector vm://localhost stopped
2020-09-15 23:07:37,258 WARN org.springframework.jms.connection.SingleConnectionFactory [ActiveMQ Connection Executor: vm://localhost#0] Could not close shared JMS Connection
javax.jms.JMSException: Disposed due to prior exception
	at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:72)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1421)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:688)
	at org.springframework.jms.connection.SingleConnectionFactory.closeConnection(SingleConnectionFactory.java:501)
	at org.springframework.jms.connection.SingleConnectionFactory.resetConnection(SingleConnectionFactory.java:389)
	at org.springframework.jms.connection.CachingConnectionFactory.resetConnection(CachingConnectionFactory.java:205)
	at org.springframework.jms.connection.SingleConnectionFactory.onException(SingleConnectionFactory.java:367)
	at org.springframework.jms.connection.SingleConnectionFactory$AggregatedExceptionListener.onException(SingleConnectionFactory.java:721)
	at org.apache.activemq.ActiveMQConnection$5.run(ActiveMQConnection.java:1967)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.activemq.transport.TransportDisposedIOException: Disposed due to prior exception
	at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:125)
	at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:114)
	at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:233)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:72)
	at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)
	at org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1194)
	at org.apache.activemq.broker.TransportConnection$4.run(TransportConnection.java:1160)
	... 3 common frames omitted
Caused by: org.apache.activemq.transport.TransportDisposedIOException: peer (vm://localhost#1) stopped.
	... 9 common frames omitted
2020-09-15 23:07:37,259 WARN org.apache.activemq.broker.jmx.ManagementContext [ActiveMQ ShutdownHook] Failed to stop jmx connector: object not exported
2020-09-15 23:07:37,262 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2020-09-15 23:07:37,267 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'taskScheduler'
2020-09-15 23:07:37,268 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [SpringContextShutdownHook] Shutting down ExecutorService 'applicationTaskExecutor'
2020-09-15 23:07:37,268 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2020-09-15 23:07:37,284 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52890-1600200454879-0:1) uptime 2.831 seconds
2020-09-15 23:07:37,285 INFO org.apache.activemq.broker.BrokerService [ActiveMQ ShutdownHook] Apache ActiveMQ 5.15.12 (localhost, ID:DESKTOP-7GLQTMP-52890-1600200454879-0:1) is shutdown
2020-09-15 23:07:37,291 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
